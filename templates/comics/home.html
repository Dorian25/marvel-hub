{% extends "../base.html" %}

{% block content %}
<div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">
  <div class="col-md-5 p-lg-5 mx-auto my-5">
    <h1 class="display-4 font-weight-normal">Marvel Comics</h1>
    <p class="lead font-weight-normal">!</p>
    <a class="btn btn-outline-secondary" href="#">Suprise me</a>
  </div>
</div>

<div class="container">
    <!-- SEARCH BAR -->
    <section class="mb-3">
        <h4 class="p-2">MARVEL SERIES LIST</h4>
        <form action="">
            <input class="form-control form-control-lg" type="text" placeholder="SEARCH">
        </form>
    </section>
    <!-- SEARCH RESULTS -->
    <section>
        <div class="row mb-5">
            <div class="col-10">{{ all_series|length }} RESULTS</div>
            <div class="col-2">SORT BY</div>
        </div>
        
        <div class="row row-cols-3 row-cols-sm-3 row-cols-md-4 row-cols-lg-5">
          {% for serie in list_series %}  
            <div class="col series-card">
                <div class="series-card-image mb-3">
                    <a href="./{{ serie.series_id }}">
                        <img class="img-fluid" src="{{ serie.url_logo }}" alt="" loading="lazy">
                    </a>
                </div>
                <div class="series-card-text">
                    <h5>{{ serie.cleanname }}</h5>
                    <p>{{ serie.publicationdate }}</p>
                </div>
            </div>
          {% endfor %}    
        </div>

        <nav aria-label="Page navigation">
          <ul class="pagination justify-content-center">
            {% if list_series.has_previous %}
            <li class="page-item">
              <a class="page-link" href="?page={{ list_series.previous_page_number}}" tabindex="-1">Previous</a>
            </li>
            {% else %}
            <li class="page-item disabled">
              <a class="page-link" href="#" tabindex="-1">Previous</a>
            </li>
            {% endif %}
            
            {% if list_series.number <= list_series.num_pages %}
            <li class="page-item"><a class="page-link" href="?page={{ list_series.number}}">{{ list_series.number }}</a></li>
            {% endif %}
            {% if list_series.number|add:1 <= list_series.num_pages %}
            <li class="page-item"><a class="page-link" href="?page={{ list_series.number|add:1 }}">{{ list_series.number|add:1 }}</a></li>
            {% endif %}
            {% if list_series.number|add:2 <= list_series.num_pages %}
            <li class="page-item"><a class="page-link" href="?page={{ list_series.number|add:2 }}">{{ list_series.number|add:2 }}</a></li>
            {% endif %}
            {% if list_series.has_next %}
            <li class="page-item">
              <a class="page-link" href="?page={{ list_series.next_page_number}}">Next</a>
            </li>
            {% else %}
            <li class="page-item disabled">
              <a class="page-link" href="#" tabindex="-1">Next</a>
            </li>
            {% endif %}
          </ul>
        </nav>
    </section>
</div>

{% endblock %}